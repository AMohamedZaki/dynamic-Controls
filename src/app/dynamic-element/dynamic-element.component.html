<!-- {{ DataBind }} -->
<ng-template [ngIf]="elements && elements.visible">
  <div class="form-inline" [formGroup]="form">

    <div [ngSwitch]="true">
      <div class="panel-title">
        <label [attr.for]="elements.Key" *ngSwitchCase="elements.controlType !== 'datepicker'"> {{ elements.Label }}
          <span *ngIf="elements.required" style="color: red"> &nbsp; *</span>
        </label>
      </div>
      <input class="form-control" [(ngModel)]="DataBind" type="text" (input)="changeValue()" *ngSwitchCase="elements.controlType === 'textbox'"
        [id]="elements.Key" [formControlName]="elements.Key">


      <!-- To Make Databind contains the select object-->
      <!-- set att [ngValue]='option' -->
      <!-- Normal Dropdown List (Single Select) -->
      <select class="form-control" (change)="changeValue()" [(ngModel)]="DataBind" *ngSwitchCase="elements.controlType === 'dropdown'"
        [id]="elements.Key" [formControlName]="elements.Key">
        <option *ngFor="let option of Service[elements.dataSource]" [value]="option.key">{{ option.value }} </option>
      </select>

      <!-- Normal Dropdown List (MultiSelect) -->
      <select class="form-control" multiple (change)="changeValue()" [(ngModel)]="DataBind" *ngSwitchCase="elements.controlType === 'multipleSelected'"
        [id]="elements.Key" [formControlName]="elements.Key">
        <option *ngFor="let option of Service[elements.dataSource]" [value]="option.key">{{ option.value }} </option>
      </select>

      <div *ngSwitchCase="elements.controlType === 'multiSelect'">
        {{ DataBind | json }}
        <kendo-multiselect [formControlName]="elements.Key" (valueChange)="changeValue()" [data]="Service[elements.dataSource]" [(ngModel)]="DataBind"
          textField="value" valueField="key" [valuePrimitive]="true"></kendo-multiselect>
      </div>



      <!-- Radio Button-->
      <div class="d-inline-block" *ngSwitchCase="elements.controlType === 'Radiobuttons'">
        <ng-template let-j="index" let-option ngFor [ngForOf]="Service[elements.dataSource]">
          <input type="radio" [id]="elements.Key + j" [formControlName]="elements.Key" [value]="option.key" (change)="changeValue()"
            [(ngModel)]="DataBind" /> {{ option.value }}
        </ng-template>
      </div>

      <!-- CheckBox-->
      <div class="d-inline-block" *ngSwitchCase="elements.controlType === 'CheckBox'">
        <input type="checkbox" [id]="elements.Key" [formControlName]="elements.Key" (change)="changeValue()"
          [(ngModel)]="DataBind" />
      </div>

      <!-- <input type="checkbox" [formControlName]="elements.id" *ngIf="ShowCheck" [(ngModel)]="elements.visible" /> -->
      <!-- Validation -->
      <div class="alert alert-danger" *ngIf="getElement(elements.Key) && getElement(elements.Key).invalid && getElement(elements.Key).touched">
        <div *ngIf="getElement(elements.Key)['errors']?.required">
          {{elements.Label}} is required
        </div>
      </div>

    </div>
  </div>
</ng-template>
